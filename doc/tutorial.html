<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>@font-face {
  font-family: octicons-anchor;
  src: url(https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.woff) format('woff');
}

* {
    box-sizing: border-box;
}

body {
    width: 980px;
    margin-right: auto;
    margin-left: auto;
    color:#333;
    background:#fff;
}

body .markdown-body {
    padding: 45px;
    border: 1px solid #ddd;
    border-radius: 3px;
    word-wrap: break-word;
}

pre {
    font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  color: #333;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body input {
  font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4078c0;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body .select::-ms-expand {
  opacity: 0;
}

.markdown-body .octicon {
  font: normal normal normal 16px/1 octicons-anchor;
  display: inline-block;
  text-decoration: none;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body:before {
  display: table;
  content: "";
}

.markdown-body:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body .anchor {
  display: inline-block;
  padding-right: 2px;
  margin-left: -18px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #000;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h1 .anchor {
  line-height: 1;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 .anchor {
  line-height: 1;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h3 .anchor {
  line-height: 1.2;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h4 .anchor {
  line-height: 1.2;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h5 .anchor {
  line-height: 1.1;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body h6 .anchor {
  line-height: 1.1;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: content-box;
  background-color: #fff;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .pl-c {
  color: #969896;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #0086b3;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #795da3;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #333;
}

.markdown-body .pl-ent {
  color: #63a35c;
}

.markdown-body .pl-k {
  color: #a71d5d;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #183691;
}

.markdown-body .pl-v {
  color: #ed6a43;
}

.markdown-body .pl-id {
  color: #b52a1d;
}

.markdown-body .pl-ii {
  background-color: #b52a1d;
  color: #f8f8f8;
}

.markdown-body .pl-sr .pl-cce {
  color: #63a35c;
  font-weight: bold;
}

.markdown-body .pl-ml {
  color: #693a17;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #1d3e81;
  font-weight: bold;
}

.markdown-body .pl-mq {
  color: #008080;
}

.markdown-body .pl-mi {
  color: #333;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #333;
  font-weight: bold;
}

.markdown-body .pl-md {
  background-color: #ffecec;
  color: #bd2c00;
}

.markdown-body .pl-mi1 {
  background-color: #eaffea;
  color: #55a532;
}

.markdown-body .pl-mdr {
  color: #795da3;
  font-weight: bold;
}

.markdown-body .pl-mo {
  color: #1d3e81;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

.markdown-body .plan-price-unit {
  color: #767676;
  font-weight: normal;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 0.35em 0.25em -1.6em;
  vertical-align: middle;
}

.markdown-body .plan-choice {
  padding: 15px;
  padding-left: 40px;
  display: block;
  border: 1px solid #e0e0e0;
  position: relative;
  font-weight: normal;
  background-color: #fafafa;
}

.markdown-body .plan-choice.open {
  background-color: #fff;
}

.markdown-body .plan-choice.open .plan-choice-seat-breakdown {
  display: block;
}

.markdown-body .plan-choice-free {
  border-radius: 3px 3px 0 0;
}

.markdown-body .plan-choice-paid {
  border-radius: 0 0 3px 3px;
  border-top: 0;
  margin-bottom: 20px;
}

.markdown-body .plan-choice-radio {
  position: absolute;
  left: 15px;
  top: 18px;
}

.markdown-body .plan-choice-exp {
  color: #999;
  font-size: 12px;
  margin-top: 5px;
}

.markdown-body .plan-choice-seat-breakdown {
  margin-top: 10px;
  display: none;
}

.markdown-body :checked+.radio-label {
  z-index: 1;
  position: relative;
  border-color: #4078c0;
}

@media print {
  body .markdown-body {
    padding: 0;
    border: none;
  }
}
</style><title>tutorial</title></head><body><article class="markdown-body"><h1>
<a id="user-content-doing-animations-in-c-with-draw_tools" class="anchor" href="#doing-animations-in-c-with-draw_tools" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Doing animations in C with <code>draw_tools</code>
</h1>
<p>This page teaches you how to use the <code>draw_tools.h</code> functions in order
to make a beautiful animation for your upcoming project.</p>
<ul>
<li><a href="#faq">FAQ</a></li>
<li>
<a href="#tutorial">Tutorial</a>
<ul>
<li><a href="#creating-a-window">Creating a window</a></li>
<li><a href="#a-window-has-its-own-time">A window has its own time</a></li>
<li><a href="#hello-world">Hello World</a></li>
<li><a href="#hello-real-world">Hello real world</a></li>
</ul>
</li>
</ul>
<h2>
<a id="user-content-faq" class="anchor" href="#faq" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FAQ</h2>
<p><strong>Why C ?</strong></p>
<p>The first question that you might ask is:</p>
<blockquote>
<p>Why is the Numerical Geometry project in C and not in Python, Java,
C++, Rust or Julia ?</p>
</blockquote>
<p>You will realize that C is very transparent about memory allocation.
Every non-constant chunk of memory that you use must be allocated on
the heap via a <code>malloc()</code> call. Therefore, you will realize precisely
how much memory is consumed by your algorithm, and you will naturally
avoid unnecessary allocations. In addition, in 2D, it is very easy to
allocate the right amount of memory right from the beginning. Take a
Delaunay Triangulation algorithm for example. If you have <em>n</em> points,
you are going to end up with <em>2*(n-2)</em> triangles. You can allocate
all the space needed right from the beginning. That transparency and
simplicity give C a clear advantage over languages with fancy (but
costly) features. Finally, a well-realized C program will be as fast
as any C++ or Rust.</p>
<p><strong>What is draw_tools ?</strong></p>
<p>It is a small and simple OpenGL library created by your assistants to
help you draw lines, text, and simple markers (little shapes to 'mark'
the position of a point). All functions are defined and briefly
explained in <code>draw_tools.h</code>. The most useful ones are described in the$
tutorial below. We figured it would be easier than using something
like CSFML or BGFX, and lighter than requiring the SDL.</p>
<h2>
<a id="user-content-tutorial" class="anchor" href="#tutorial" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tutorial</h2>
<h3>
<a id="user-content-creating-a-window" class="anchor" href="#creating-a-window" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating a window</h3>
<p>First, we will create a simple window (an object of type <code>window_t</code>)
via a call to the function</p>
<div class="highlight highlight-source-c"><pre>    <span class="pl-c1">window_t</span>* <span class="pl-en">window_new</span>(<span class="pl-k">int</span> width, <span class="pl-k">int</span> height, <span class="pl-k">const</span> <span class="pl-k">char</span>* win_name);</pre></div>
<p>where</p>
<ul>
<li>
<strong>width</strong> is the width of the window in pixels or 0 for full-screen</li>
<li>
<strong>height</strong> is the height of the window in pixels or 0 for
full-screen</li>
<li>
<strong>win_name</strong> is a string which will be the name of your window</li>
</ul>
<p>we will wait for 2 seconds using the function <code>time()</code> and
<code>difftime()</code> given in
<a href="http://www.cplusplus.com/reference/ctime/" rel="nofollow"><code>&lt;time.h&gt;</code></a></p>
<p>and close the window (and deleted all structure related to the window)
with</p>
<div class="highlight highlight-source-c"><pre>    <span class="pl-k">void</span> <span class="pl-en">window_delete</span>(<span class="pl-c1">window_t</span>* window);</pre></div>
<p>Therefore, in the following code, we create a window of size 800x800
titled "Tutorial 0", we wait 2 seconds, close the window and return.</p>
<div class="highlight highlight-source-c"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>draw_tools.h<span class="pl-pds">"</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>time.h<span class="pl-pds">&gt;</span></span>

<span class="pl-k">int</span> <span class="pl-en">main</span>()
{
    <span class="pl-c1">window_t</span>* window = <span class="pl-c1">window_new</span>(<span class="pl-c1">800</span>, <span class="pl-c1">800</span>, <span class="pl-s"><span class="pl-pds">"</span>Tutorial 0<span class="pl-pds">"</span></span>);

    <span class="pl-c1">time_t</span> tic = <span class="pl-c1">time</span>(<span class="pl-c1">NULL</span>);

    <span class="pl-k">while</span>(<span class="pl-c1">difftime</span>(<span class="pl-c1">time</span>(<span class="pl-c1">NULL</span>) , tic)&lt; <span class="pl-c1">2</span>)
        ;<span class="pl-c"><span class="pl-c">//</span> do nothing</span>

    <span class="pl-c1">window_delete</span>(window);

    <span class="pl-k">return</span> <span class="pl-c1">0</span>;
}</pre></div>
<h3>
<a id="user-content-a-window-has-its-own-time" class="anchor" href="#a-window-has-its-own-time" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A window has its own time</h3>
<p>Before drawing things into a window, we have to understand that the
window object is actually much more than a window.
Indeed, when you will draw primitive shapes with <code>points_draw()</code>,
<code>text_draw()</code>... you will in fact draw to a texture in the memory of
your computer which is called a framebuffer. Once you've filled the
framebuffer with what you want to draw, you can show it in the window
using:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">void</span> <span class="pl-en">window_update</span>(<span class="pl-c1">window_t</span>* window)</pre></div>
<p>That function actually does a lot of things:</p>
<ul>
<li>it swaps the framebuffer with the screen buffer.</li>
<li>it waits for a screen refresh if you have VSYNC. A refresh is the
moment when the screen buffer is actually shown on your screen. It
depends on the refreshing rate (framerate) of your screen (usually
60 Hz)</li>
<li>it processes events (mouse inputs and keyboard inputs) that
happened since the last call to <code>window_update()</code>.</li>
<li>it updates the size of the framebuffer in pixel according to the
size of the window.</li>
<li><strong>it clears the framebuffer</strong></li>
<li>it changes the render position, change the scaling (zoom), pause
the window timer, tell if the window should close etc. according to
the event received.</li>
<li>it updates its own timer which doesn't increase if the window is
paused</li>
</ul>
<p>Now, let's update our previous example using the window timer:</p>
<div class="highlight highlight-source-c"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>draw_tools.h<span class="pl-pds">"</span></span>

<span class="pl-k">int</span> <span class="pl-en">main</span>()
{
    <span class="pl-c1">window_t</span>* window = <span class="pl-c1">window_new</span>(<span class="pl-c1">800</span>, <span class="pl-c1">800</span>, <span class="pl-s"><span class="pl-pds">"</span>mY wInDoW<span class="pl-pds">"</span></span>);

    <span class="pl-k">while</span>(<span class="pl-c1">window_get_time</span>(window) &lt; <span class="pl-c1">2</span>) {
        <span class="pl-c1">window_update</span>(window);
    }

    <span class="pl-c1">window_delete</span>(window);

    <span class="pl-k">return</span> EXIT_SUCCESS;
}</pre></div>
<p>Because we use the timer of the window, <strong>we can pause the time by
pressing the space bar</strong>. If you do so before the 2 seconds delay, the
window won't close because the time will get stuck somewhere in
between 0 and 2 seconds. Pressing the space bar again will restart the
timer and the window will close.</p>
<p>You might also notice that the background color is now white, which is
the default color for the background of the framebuffer. In the
previous example, it stayed black because we were never showing the
content of the framebuffer to the window.</p>
<p>You can change the background color of the window using:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">void</span> <span class="pl-en">window_set_color</span>(<span class="pl-c1">window_t</span>* window, <span class="pl-k">float</span> rgba[<span class="pl-c1">4</span>]);</pre></div>
<p>The color <code>rgba</code> is defined by 4 floating-point values <code>float</code> in the
range 0.0 - 1.0.</p>
<ol>
<li>red</li>
<li>green</li>
<li>blue</li>
<li>alpha (the transparency)</li>
</ol>
<p>Note that the transparency is totally useless with the window
background color, because transparency only has an impact when things
are drawn behind our object.</p>
<hr>
<p><strong>waiting for user to close the window</strong></p>
<p>Showing a window during 2 second is not very useful. You will
generally want to display the window until the user clicks the close
button, press the escape key or ALT+F4. Those events are captured by
the window when using <code>window_update()</code>. You can simply ask the window
if they happened by calling</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">int</span> <span class="pl-en">window_is_closed</span>(<span class="pl-c1">window_t</span>* window)</pre></div>
<p>in this manner</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">while</span>(!window_is_closed(window)) {
	<span class="pl-c"><span class="pl-c">//</span> draw stuff here</span>

	<span class="pl-c"><span class="pl-c">//</span> ...</span>

    <span class="pl-c1">window_update</span>(window);
}</pre></div>
<h3>
<a id="user-content-hello-world" class="anchor" href="#hello-world" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hello World</h3>
<p>Time to render our first primitive!</p>
<p>Let's use the function <code>text_new()</code>, which returns a new text
object:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-c1">text_t</span>* <span class="pl-en">text_new</span>(<span class="pl-k">unsigned</span> <span class="pl-k">char</span>* string, GLenum usage);</pre></div>
<ul>
<li>
<strong>string</strong> is the message that you want to display</li>
<li>
<strong>usage</strong> is either GL_DYNAMIC_DRAW if you intend to change the
content (the text) of the object regularly or GL_STATIC_DRAW if the
text won't change.</li>
</ul>
<p>Additionally, there are multiple parameters associated to a text
object that you can change: its position on the screen, its color, its
width, its outline color, its outline width, its scaling in x and y...
see <code>draw_tools.h</code> for more info.</p>
<p>To render our text object into the framebuffer, we have to call</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">void</span> <span class="pl-en">text_draw</span>(<span class="pl-c1">window_t</span>* window, <span class="pl-c1">text_t</span>* text);</pre></div>
<p>Reminder: we will have to do this repeatedly because <code>window_update()</code>
clears the framebuffer.</p>
<p>Finally, when we don't need our text object anymore, we will call</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">void</span> <span class="pl-en">text_delete</span>(<span class="pl-c1">text_t</span>* text);</pre></div>
<p>to destroy it.</p>
<p>Using all your knowledge, you should be able to display "Hello world"
with some pretty effects, by varying the text object parameters.</p>
<div class="highlight highlight-source-c"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>draw_tools.h<span class="pl-pds">"</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>math.h<span class="pl-pds">&gt;</span></span>

#<span class="pl-k">define</span> <span class="pl-en">PI</span> <span class="pl-c1">3.14159265358979323846</span>

<span class="pl-k">void</span> <span class="pl-en">nice_colormap</span>(<span class="pl-k">float</span> color[<span class="pl-c1">4</span>], <span class="pl-k">float</span> a)
{
   color[<span class="pl-c1">0</span>] = <span class="pl-c1">sin</span>(<span class="pl-c1">0.8</span>*a)*<span class="pl-c1">0.6</span>+<span class="pl-c1">0.4</span>;
   color[<span class="pl-c1">1</span>] = <span class="pl-c1">sin</span>(<span class="pl-c1">0.7</span>*a)*<span class="pl-c1">0.6</span>+<span class="pl-c1">0.4</span>;
   color[<span class="pl-c1">2</span>] = <span class="pl-c1">sin</span>(<span class="pl-c1">0.57</span>*a)*<span class="pl-c1">0.6</span>+<span class="pl-c1">0.4</span>;
   color[<span class="pl-c1">3</span>] = <span class="pl-c1">1</span>; <span class="pl-c"><span class="pl-c">//</span> solid</span>
}

<span class="pl-k">int</span> <span class="pl-en">main</span>()
{
    <span class="pl-c1">window_t</span>* window = <span class="pl-c1">window_new</span>(<span class="pl-c1">800</span>,<span class="pl-c1">800</span>, <span class="pl-s"><span class="pl-pds">"</span>Tutorial 1<span class="pl-pds">"</span></span>);

    <span class="pl-c"><span class="pl-c">//</span> hw is prefix for hello world :p</span>
    <span class="pl-c1">text_t</span>* hw_obj = <span class="pl-c1">text_new</span>((<span class="pl-k">unsigned</span> <span class="pl-k">char</span>[]){<span class="pl-s"><span class="pl-pds">"</span>Hello world !<span class="pl-pds">"</span></span>},
                              GL_STATIC_DRAW);

    <span class="pl-k">float</span> hw_color[<span class="pl-c1">4</span>] = {<span class="pl-c1">1.0</span>, <span class="pl-c1">1.0</span>, <span class="pl-c1">1.0</span>, <span class="pl-c1">1.0</span>};
    <span class="pl-c1">text_set_scale</span>(hw_obj, <span class="pl-c1">0.2</span>, <span class="pl-c1">0.2</span>);

    <span class="pl-c"><span class="pl-c">//</span> a character here is 0.1 wide (it is 0.05 with no scaling)</span>
    <span class="pl-c"><span class="pl-c">//</span> centering "Hello World !": 13/2=6.5 characters =&gt; 0.65</span>
    <span class="pl-c1">text_set_pos</span>(hw_obj, -<span class="pl-c1">0.65</span>, <span class="pl-c1">0.0</span>);
    <span class="pl-c1">text_set_width</span>(hw_obj, <span class="pl-c1">0.5</span>); <span class="pl-c"><span class="pl-c">//</span> bold</span>
    <span class="pl-c1">text_set_outline_width</span>(hw_obj, <span class="pl-c1">1.0</span>); <span class="pl-c"><span class="pl-c">//</span> big outline</span>
    <span class="pl-c1">text_set_outline_color</span>(hw_obj, (<span class="pl-k">float</span>[<span class="pl-c1">4</span>]) {<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1</span>}); <span class="pl-c"><span class="pl-c">//</span> black</span>


    <span class="pl-k">while</span>(!<span class="pl-c1">window_is_closed</span>(window)){
        <span class="pl-c1">nice_colormap</span>(hw_color, <span class="pl-c1">window_get_time</span>(window));
        <span class="pl-c1">text_set_color</span>(hw_obj, hw_color);
        <span class="pl-c1">text_draw</span>(window, hw_obj);

        <span class="pl-c1">window_update</span>(window);
    }

    <span class="pl-c1">text_delete</span>(hw_obj);
    <span class="pl-c1">window_delete</span>(window);

    <span class="pl-k">return</span> EXIT_SUCCESS;
}</pre></div>
<h3>
<a id="user-content-hello-real-world" class="anchor" href="#hello-real-world" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hello real world</h3>
<p>It's pretty easy to display simple graphics, but displaying the
progress of an algorithm is far more difficult. Indeed, you are not
only programming an algorithm for your Numerical Geometry project,
<strong>you are a video game developer now !</strong>. Indeed, the window must be
responsive to user inputs, users must be able to move the scene with
their mouses, zooming in and out instantaneously. To do so, you should
never do something that last more than a hundredth of a second before
updating the window. In addition, we want your project to be pretty,
with nice animations. The speed of your animations should not depend
on the framerate of your screen. These are constraints that are almost
only seen in video game development.</p>
<hr>
<p><strong>the next and last part of the tutorial should arrive soon</strong></p>
</article></body></html>